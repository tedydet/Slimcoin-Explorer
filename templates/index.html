<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Slimcoin Blockchain Explorer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div id="loading-overlay">
        <div class="spinner"></div>
    </div>
    <div class="header">
        <form action="/search" method="get" target="contentFrame" onsubmit="showLoading()">
            <input type="text" name="query" placeholder="Search by Address, Block, Tx ID...">
            <button type="submit">Search</button>
        </form>
    </div>
    <div class="sidebar">
        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" style="display: block; margin: 0 auto 20px;">
        <button onclick="showLoading(); window.frames['contentFrame'].location.href='{{ url_for('blocks_frame') }}'">
            ğŸŒ Explorer
        </button>
        <button onclick="showLoading(); window.frames['contentFrame'].location.href='{{ url_for('network') }}'">
            ğŸ“¡ Network
        </button>
        <button onclick="showLoading(); window.frames['contentFrame'].location.href='{{ url_for('rich_list') }}'">
            ğŸ’° Rich List
        </button>
        <button onclick="showLoading(); window.frames['contentFrame'].location.href='{{ url_for('consensus_stats') }}'">
            ğŸ“Š Stats
        </button>
    </div>
    <div class="blockchain-stats">
        <iframe name="statsFrame" src="{{ url_for('stats_frame') }}"></iframe>
    </div>
    <div class="main-content">
        <iframe id="contentFrame" name="contentFrame" src="{{ url_for('blocks_frame') }}" onload="hideLoading()"></iframe>
    </div>
<script>
    function showLoading() {
        var overlay = document.getElementById('loading-overlay');
        if (overlay) {
            overlay.style.display = 'flex';
        }
    }
    function hideLoading() {
        var overlay = document.getElementById('loading-overlay');
        if (overlay) {
            overlay.style.display = 'none';
        }
    }
    // Hide the spinner on initial load of the page
    window.addEventListener('load', function () {
        hideLoading();
    });
</script>
</body>
</html>
